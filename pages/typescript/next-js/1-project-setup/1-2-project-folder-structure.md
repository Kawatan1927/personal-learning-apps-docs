# 1.2 プロジェクトフォルダ構成の理解

Next.js プロジェクトでは、フォルダやファイルの配置がフレームワークの機能に直結しています。ここでは、主要なディレクトリとファイルの役割を具体的な手順とともに詳細に解説します。これにより、どの場所にどのようなコードやリソースを配置すべきかを正確に理解でき、効率的な開発が可能となります。

---

## 1.2.1 `pages` ディレクトリの役割とNext.jsのルーティング

### 説明
- **ファイルベースのルーティング:**  
  Next.js では、`pages` ディレクトリに配置されたファイルが自動的にルート（URLパス）として認識されます。
    - 例: `pages/index.tsx` はルート（`/`）に対応し、`pages/about.tsx` は `/about` に対応します。
- **動的ルーティング:**  
  動的なページはファイル名に角括弧を使用して表現します。
    - 例: `pages/events/[id].tsx` は、イベントIDに応じた詳細ページを生成するためのファイルです。

### 手順とTips
1. **基本ページの確認:**
    - プロジェクト作成直後に生成される `pages/index.tsx` を開いて、ホームページのコンテンツと構造を確認しましょう。
    - **Tip:** ルーティングが自動で行われるため、新たなページを追加する際は `pages` 内にファイルを作成するだけで済みます。

2. **動的ページの実装:**
    - `pages/events/[id].tsx` を作成し、`getStaticPaths` と `getStaticProps` を用いて動的なコンテンツの生成を体験します。
    - **Tip:** URLパラメータの取得方法や、動的ルートのキャッシュ戦略を理解することが、スケールするアプリケーション開発の鍵となります。

3. **ネストされたルーティング:**
    - 必要に応じて、サブディレクトリを作成することで、URLパスを階層化できます。
    - 例: `pages/admin/dashboard.tsx` は `/admin/dashboard` に対応します。
    - **Tip:** 管理画面やユーザー専用領域など、セクションごとにディレクトリを分けると可読性が向上します。

---

## 1.2.2 `components` ディレクトリによるUIコンポーネント管理

### 説明
- **再利用可能なUI要素:**  
  アプリケーション内で何度も利用されるボタン、カード、ヘッダー、フッターなどのUIコンポーネントを格納します。
- **コンポーネント分割:**  
  各コンポーネントは、独立した機能を持ち、単一責任の原則に則って設計されると保守性が向上します。

### 手順とTips
1. **コンポーネントの作成:**
    - 例えば、`components/Header.tsx` や `components/EventCard.tsx` など、用途ごとにファイルを分けて作成します。
    - **Tip:** コンポーネント名はその役割を明確にするため、できるだけ分かりやすい命名を心がけましょう。

2. **Propsと型定義:**
    - TypeScript を活用して、各コンポーネントのプロパティ（Props）の型を明確に定義することで、型安全な開発が可能となります。
    - **Tip:** コンポーネントごとにインターフェースを定義し、Propsの内容が変更された場合にエディタからのフィードバックを活用すると良いでしょう。

3. **コンポーネントの再利用:**
    - 共通部分はコンポーネント化し、複数のページで再利用することで、コードの重複を避け、保守性を向上させます。
    - **Tip:** 小さなコンポーネントに分割しておくと、テストもしやすくなります。

---

## 1.2.3 `styles` ディレクトリと静的ファイルの管理方法

### 説明
- **グローバルスタイルとモジュール化:**  
  Next.js では、グローバルCSSは `styles` ディレクトリ内のファイル（例: `globals.css`）に記述し、ページごとのスタイルは CSS Modules を利用して管理します。
- **静的アセット:**  
  画像、フォント、その他の静的ファイルは、`public` ディレクトリに配置します。これにより、ルートパスから直接アクセス可能です。

### 手順とTips
1. **グローバルスタイルの設定:**
    - `styles/globals.css` に基本的なスタイルを記述し、`pages/_app.tsx` でインポートすることで全体に適用されます。
    - **Tip:** リセットCSSやベースラインのスタイルをここで定義すると、各ブラウザ間の違いを吸収できます。

2. **CSS Modules の利用:**
    - 各コンポーネント専用のスタイルを、`ComponentName.module.css` といったファイル名で作成し、コンポーネント内でインポートして使用します。
    - **Tip:** クラス名の衝突を防ぐために、自動的にローカルスコープが適用される CSS Modules は非常に有効です。

3. **静的ファイルの管理:**
    - `public` フォルダ内に画像やフォントを配置し、HTMLやCSSから `/image.png` のようにルートパスでアクセスします。
    - **Tip:** パフォーマンス向上のために、画像の最適化やキャッシュ設定にも注意を払いましょう。

4. **フォルダ構成のカスタマイズ:**
    - プロジェクトが大規模になった場合、`lib`、`hooks`、`utils` といったディレクトリを追加して機能別にコードを整理すると管理がしやすくなります。
    - **Tip:** TypeScript のパスエイリアスを `tsconfig.json` に設定することで、インポートパスが短縮でき、可読性が向上します。

---

# まとめ

このセクション「1.2 プロジェクトフォルダ構成の理解」では、Next.js プロジェクトにおける主要なディレクトリの役割と管理方法を詳しく説明しました。
- **`pages` ディレクトリ:** ファイルベースのルーティング、動的ルーティング、ネストされたルートの設定方法を解説。
- **`components` ディレクトリ:** 再利用可能なUIコンポーネントの作成、型定義、再利用性向上のポイントを紹介。
- **`styles` ディレクトリおよび静的ファイル:** グローバルスタイルとCSS Modules、静的アセットの管理と最適化の方法を具体的に説明。

これらの理解は、プロジェクト全体の構造を把握し、効率的な開発とメンテナンスを実現するために非常に重要です。次のステップでは、このフォルダ構成を活かした実際のページ作成やコンポーネント実装に進んでいきます。